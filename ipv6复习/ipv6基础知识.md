### IPv6的优势：  
1.扩展的地址空间：提供了128位的源地址和目的地址，相比与ipv4的32位地址  
2.IPv6不但有更大的地址空间，它还改变了IP协议的一些重要部分  
3.无状态自动配置：IPv6提供了配置机制，主机可以自生成一个可路由的地址  
4.nat/pat将消失：由于公众的ipv6地址数量庞大，将不再需要网络地址/端口地址翻译  
5.消除广播：IPv6不使用3层的广播地址  
  
### IPv6报文  
* version版本（4bits）：**值为6**
* traffic class流量类型（8bits）
* flow label 流标签（20bits）：用来标记的序列或IPv6数据包从一个源发送到一个或多个目的节点的数据包流
* payload length净荷长度（16bits）：允许一个65535字节的最大有效载荷大小
* next header下一报头（8bits）
* hop limit跳数限制（8bits）
* source address源地址（128bits）：  
  ipv6数据包的IP地址是128位  
  **源地址必须是一个单播地址**  
* destination address目的地址（128bits）：  
  128位的IP地址  
  **可以是一个单播或组播地址**  
  没有广播地址，这是一个所有节点的组播地址  

### 路由消息宣告
方式一：  
RA消息  
To：FF02::1(向所有IPv6主机发送组播)  
From：FE80::1(本地链路地址)  
前缀：2001:DB8:ACAD:1::  
前缀长度：/64  
|  
\/  
前缀：2001:DB8:ACAD:1::  
前缀长度：/64  
默认网关：FE80::1  
全球单播地址：2001:DB8:ACAD:1: + 端口id  
|  
\/  
EUI-64机制或随机64bit数值  
    
方式二：  
To：FF02::1(向所有IPv6主机发送组播)  
From：FE80::1(本地链路地址)  
前缀：2001:DB8:ACAD:1::  
前缀长度：/64  
|  
\/  
前缀：2001:DB8:ACAD:1::  
前缀长度：/64  
默认网关：FE80::1  
全球单播地址：2001:DB8:ACAD:1: + 端口id  
|  
\/  
EUI-64机制  
  
### EUI-64
MAC:                00:03:6B:E9:D4:80  
嵌入FFFE： 0000 0000：000 0011：0110 1011：1111 1111：1111 1110：1110 1001：1101 0100：1000 0000  
翻转U/L  ：0000 0010：000 0011：0110 1011：1111 1111：1111 1110：1110 1001：1101 0100：1000 0000  
生成EUI  ：        02:03:6B:FF:FE:E9:D4:80  
  
### 链路本地地址
* 用于与同一条链路上的其他设备进行通信
* 不能被路由器进行路由转发
* 只需要在当前链路中保持地址唯一
* 链路本地地址不会被加入ipv6路由表中
* 一台ipv6设备至少需要有一个链路本地地址
* 用于：
  在获得全局唯一地址之前，与链路中的其他设备进行通信
  路由器的链路本地地址会被终端设备自动登记为默认网关地址
  与邻近的路由器交换更新信息
