## RIPng协议基本原理
### 工作机制：
* RIPng协议是基于D-V算法的路由协议，通过udp报文交换路由信息，使用的端口号是521
* RIPng协议用**跳数**来衡量到达目的主机的距离：当跳数大于或等于16，不可达
* 为了提高性能并避免形成路由循环，RIPng支持 水平分割和毒性反转

### 路由数据库
* 目的地址
* 下一跳地址
* 接口
* 开销：跳数

### 路由环路避免
* 给路由开销定义一个最大值16
* 水平分割：从一个接口学到的路由不再通过此接口向外发布
* 毒性反转：一个已经失效的路由不会马上被删除，而从这个接口继续向外发布，但metric值必须为16
* 触发更新
---

LSDB：链路状态数据库  
LSA：链路状态广播  

IGP内部网关协议：RIP 、OSPF、IS-IS、IGRP、EIGRP  
  
EGP外部网关协议  
  
BGP边界网关协议  
  
AS自治系统  
  
EBGP外部边界网关协议：用于在不同的自治系统间交换路由信息  
IBGP内部边界网关协议  
![eibgp](https://github.com/JeckieChen/ipv6/blob/master/ipv6%E5%A4%8D%E4%B9%A0/img/eibgp.png)
-

### ospf报文类型
* hello报文：发现及维持邻居关系，选举DR，BDR
* DD报文：本地LSDB的摘要
* LSR报文：向对端请求本端没有或对端的更新的LSA
* LSU报文：向对方发送其需要的LSA
* LSAck报文：收到LSU之后，进行确认


## 问题：
### ripng相对ripv2修改
* udp端口号：使用udp的521端口发送和接收路由信息
* 组播地址：使用FF02::9作为链路本地范围内的ripng路由器组播地址
* 前缀长度：目的地址使用128比特的前缀长度
* 下一跳地址：使用128比特的ipv6地址
* 源地址：使用链路本地地址FE80::/10作为源地址发送ripng路由信息更新报文
  
### OSPFv3 和 OSPFv2 的区别有哪些？
* 宣告路由：OSPFv2 宣告 IPv4 路由，OSPFv3 宣告 IPv6 路由
* 链路状态:OSPFv2 与 OSPFv3 都是链路状态路由协议
* 度量：OSPFv2 与 OSPFv3 都将度量定义为将数据包从接口发送出去的开销
* 路由器ID：OSPFv2 与 OSPFv3 都取 32 位，通常是IPv4地址，如果没有IPv4 地址，使用router-id配置
* ORIBDR 选举进程：OSPFv3 和 v2 保持不不变
* 邻居发现机制：都使用 hello 机制了了解邻居路由器并构成邻居关系，与 OSPFv2相比，OSPFv3 构成邻居关系时没有“相同子网”的需求
* 源地址和 目的地址：OSPFv3	FF02::5	 FF02::6；OSPFv2	224.0.0.5	224.0.0.6
* 认证：OSPFv2 使 用明文认证和 MD5 认证，OSPFv3 使 用 IPSec 提供的认证和加密功能。

### 考虑是否开启 BGP 路由协议的条件有哪些？
* 自治系统允许数据包穿过它到达其他自治系统。  
* 自治系统多条外部连接,多个运营商之间；拥有多条到互联网的连接时。  
* 自治系统必须对进入和离开AS的数据流进行控制。  

### 请写出（或画出）BGP协议有限状态机有 6 个状态，并解释各个状态之间的转换的流程
![bgp](https://github.com/JeckieChen/ipv6/blob/master/ipv6%E5%A4%8D%E4%B9%A0/img/bgp.png)

### 成为BGP路由的途径：
纯动态注入；半动态注入；静态注入  

### IBGP是基于邻居的
水平分割；全局路由前缀；子网ID；接口ID

### BGP 协议的邻居关系包括 
EBGP 和 IBGP

### 内部路由 IGP 的 工作在于（），外部路由 EGP 的 工作着眼点在于（）（）
发现和计算路由；控制路路由的传播；选择最好的路由

### BGP 路由选路原则中，本地路由施法方式的优先顺序为（D）
A、redistribute>network>aggregate   
B、aggregate>redistribute>network  
C、network>aggregate>redistribute   
D、network>redistribute>aggregate  

### 将 IPV6 应 用到已有的IPV4网络中，下面哪种说法是正确的（B）
A、只有 OSPFv3 能够将 IPV6 数据包封装 入 IPV4 数据包中  
B、IPV4 和 IPV6 数据可以在同 一台路由器 上同时被路由转发  
C、 一台启动了了 IPV6 路由功能的路由器 必须要将 IPV6 的数据包封装 入 IPV4 的数据包中进行传输  
D、以上都不不是  
